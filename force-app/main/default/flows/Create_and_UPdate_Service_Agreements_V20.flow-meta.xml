<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>55.0</apiVersion>
    <assignments>
        <name>Add_Service_Products_to_Collection</name>
        <label>Add Service Products to Collection</label>
        <locationX>1546</locationX>
        <locationY>1214</locationY>
        <assignmentItems>
            <assignToReference>varServiceAgreementProductsCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varServiceAgreemnetProductsLoop</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Opp_Line_Items</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_to_Service_Agrmt_Product_Collection</name>
        <label>Add to Service Agrmt Product Collection</label>
        <locationX>3834</locationX>
        <locationY>1214</locationY>
        <assignmentItems>
            <assignToReference>varServiceAgreementProductsCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varServiceAgreemnetProductsLoop</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Current_Opportunity_Products</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_to_Service_Products_to_Update</name>
        <label>Add to Service Products to Update</label>
        <locationX>4538</locationX>
        <locationY>1430</locationY>
        <assignmentItems>
            <assignToReference>varServiceProductsToUpdateCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varServiceProductsToUpdateObject</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Current_Service_Product_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Service_Agrmt_Product_Loop_Variables</name>
        <label>Assign Service Agrmt Product Loop Variables</label>
        <locationX>3834</locationX>
        <locationY>1106</locationY>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Opportunity_Line_Item_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varOpportunityLineItemLoop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varOpportunityLineItemLoop.Quantity</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varOpportunityLineItemLoop.Product2Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Price_Per_Unit__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varOpportunityLineItemLoop.UnitPrice</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Effective_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varBillingStartDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.CallRevu_Contract__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varServiceAgreementID</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Billing_Agreement__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varBillingAgreementBillTo</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Included_Units__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varOpportunityLineItemLoop.Minutes__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_to_Service_Agrmt_Product_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Service_Agrmt_Product_Loop_Variables_0</name>
        <label>Assign Service Agrmt Product Loop Variables</label>
        <locationX>4538</locationX>
        <locationY>1322</locationY>
        <assignmentItems>
            <assignToReference>varServiceProductsToUpdateObject.Last_Opportunity_Product_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varOpportunityLineItemLoop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceProductsToUpdateObject.Billing_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varOrderType</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceProductsToUpdateObject.Pending_Expiration__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceProductsToUpdateObject.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varCurrentServiceProductsLoop.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_to_Service_Products_to_Update</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Values_to_Service_Line_Item</name>
        <label>Assign Values to Service Line Item</label>
        <locationX>1546</locationX>
        <locationY>1106</locationY>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Opportunity_Line_Item_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varOpportunityLineItemLoop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varOpportunityLineItemLoop.Quantity</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varOpportunityLineItemLoop.Product2Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.CallRevu_Contract__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varServiceAgreementID</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Price_Per_Unit__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varOpportunityLineItemLoop.UnitPrice</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Billing_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Billing_Agreement__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varBillingAgreementBillTo</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.Included_Units__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varOpportunityLineItemLoop.Minutes__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varServiceAgreemnetProductsLoop.PriceBookEntryID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varOpportunityLineItemLoop.PricebookEntryId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Service_Products_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>set_Addendum_Alert_Billing_Subject</name>
        <label>set Addendum Alert + Billing Subject</label>
        <locationX>2382</locationX>
        <locationY>2630</locationY>
        <assignmentItems>
            <assignToReference>varAddendumAlert</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varBillingCaseSubject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Update NS Order</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Enrollment_Case_Addendum</targetReference>
        </connector>
    </assignments>
    <decisions>
        <description>Determines what cases get created with agreement change.</description>
        <name>Case_Workflow_Types</name>
        <label>Case Workflow Types</label>
        <locationX>2426</locationX>
        <locationY>2522</locationY>
        <defaultConnector>
            <targetReference>is_Billing_Bypass_True</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Workflow</defaultConnectorLabel>
        <rules>
            <name>Send_To_Enrollment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varOpportunityAgreementWorkFlowType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Send To Enrollment</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Enrollment_Case</targetReference>
            </connector>
            <label>Send To Enrollment</label>
        </rules>
        <rules>
            <name>Addendum_Workflow</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varOpportunityAgreementWorkFlowType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Addendum Workflow</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varAddendumType</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Addendum: DNI Setup</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>set_Addendum_Alert_Billing_Subject</targetReference>
            </connector>
            <label>Addendum Workflow</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Match_to_Current_Product</name>
        <label>Check Match to Current Product</label>
        <locationX>4670</locationX>
        <locationY>1214</locationY>
        <defaultConnector>
            <targetReference>Loop_Current_Service_Product_Collection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Match</defaultConnectorLabel>
        <rules>
            <name>MatchToCurrentProduct</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varCurrentServiceProductsLoop.Product__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>varOpportunityLineItemLoop.Product2Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Service_Agrmt_Product_Loop_Variables_0</targetReference>
            </connector>
            <label>Match to Current Product</label>
        </rules>
    </decisions>
    <decisions>
        <name>is_Billing_Bypass_True</name>
        <label>is Billing Bypass True?</label>
        <locationX>2998</locationX>
        <locationY>2630</locationY>
        <defaultConnector>
            <targetReference>Create_No_Workflow_Accounting_Case</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Bypass_is_TRUE_no_accounting_Case</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>varBillingCaseBypass</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varAccountingCaseManualCreate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opportunity_Processed</targetReference>
            </connector>
            <label>Bypass is TRUE (no accounting Case)</label>
        </rules>
    </decisions>
    <decisions>
        <name>New_or_Changed_Opp</name>
        <label>New or Changed Opp</label>
        <locationX>2426</locationX>
        <locationY>674</locationY>
        <defaultConnector>
            <targetReference>Default_Error_Message</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>Not_Authorized_To_Maintain_Agreements</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varUserAuthorization</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Not_Authorized</targetReference>
            </connector>
            <label>Not Authorized To Maintain Agreements</label>
        </rules>
        <rules>
            <name>Already_Processed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varDateProcessed</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Opportunity_Already_Processed</targetReference>
            </connector>
            <label>Already Processed</label>
        </rules>
        <rules>
            <name>Missing_Bill_to_Location</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varBillToID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>You_Must_Have_a_Bill_to_Account</targetReference>
            </connector>
            <label>Missing Bill-to Location</label>
        </rules>
        <rules>
            <name>Not_Closed_Won</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varOppStage</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed Won</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varOppStage</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed-Completed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Not_Closed_Won_Opportunity</targetReference>
            </connector>
            <label>Not Closed Won</label>
        </rules>
        <rules>
            <name>New_With_Service_Agreement2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varOrderType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varServiceAgreementID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>New_With_Service_Agreement</targetReference>
            </connector>
            <label>New With Service Agreement</label>
        </rules>
        <rules>
            <name>New_Opportunity</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varOrderType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varServiceAgreementID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varBillToID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varUserAuthorization</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Service_Agreement</targetReference>
            </connector>
            <label>New Opportunity</label>
        </rules>
        <rules>
            <name>Update_Opportunity</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varOrderType</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varServiceAgreementID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varBillToID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varUserAuthorization</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Change</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Current_Service_Agreement_Products</targetReference>
            </connector>
            <label>Update Opportunity</label>
        </rules>
        <rules>
            <name>Check_If_All_Information_is_Available</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varLengthMissingInfo</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Missing_Information</targetReference>
            </connector>
            <label>Processing Information Not Complete</label>
        </rules>
    </decisions>
    <decisions>
        <name>Product_Loop_Quantity</name>
        <label>Product Loop Quantity</label>
        <locationX>4142</locationX>
        <locationY>998</locationY>
        <defaultConnector>
            <targetReference>Loop_Current_Service_Product_Collection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Less Than 0</defaultConnectorLabel>
        <rules>
            <name>Greater_Or_Equal_to_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varOpportunityLineItemLoop.Quantity</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Service_Agrmt_Product_Loop_Variables</targetReference>
            </connector>
            <label>Greater Or Equal to 1</label>
        </rules>
    </decisions>
    <description>Added New Notification for Cases + billing case creation automation simplified + no DNI and updated Addendum Logic + simplified + moved billing case creation to Enrollment caseworkflows</description>
    <environments>Default</environments>
    <formulas>
        <description>First checks if the Anticipated Implementation LEad field on the opportunity is populated. If so, they will be the case owner, otherwise the owner from the Flow Configuration Settings.</description>
        <name>EnrollmentCaseOwner</name>
        <dataType>String</dataType>
        <expression>IF(!ISNULL({!varAnticipatedImplementationLead}) &amp;&amp; !ISBLANK({!varAnticipatedImplementationLead}),
{!varAnticipatedImplementationLead},
{!Get_Flow_Configuration_Settings.Enrollment_OwnerId__c})</expression>
    </formulas>
    <formulas>
        <name>EnrollmentSubject</name>
        <dataType>String</dataType>
        <expression>&quot;Account Setup - &quot; &amp; {!varAccountName}</expression>
    </formulas>
    <formulas>
        <name>form_AdjustedTier2Status</name>
        <dataType>String</dataType>
        <expression>IF({!varOpportunityRecordTypeName} = &apos;Tier2&apos;,&apos;Tier 2&apos;,null)</expression>
    </formulas>
    <formulas>
        <name>formula_BillingCaseSubject</name>
        <dataType>String</dataType>
        <expression>IF({!varBillingCaseBypass}, null, {!varBillingCaseSubject})</expression>
    </formulas>
    <formulas>
        <description>Default Billing Agreement Effective Date</description>
        <name>varBillingAgreementEffectiveDate</name>
        <dataType>Date</dataType>
        <expression>Date(Year(Today()),Month(Today()),Day(Today()))</expression>
    </formulas>
    <formulas>
        <description>Length of Missing Information Field</description>
        <name>varLengthMissingInfo</name>
        <dataType>Number</dataType>
        <expression>len({!varInformationRequiredForProcessing})</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>varUserAuthorization</name>
        <dataType>String</dataType>
        <expression>Text({!$User.Service_Agreements_Authorized_To_Create__c})</expression>
    </formulas>
    <interviewLabel>Create and UPdate Service Agreements V20 {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Create and Update Service Agreements V32</label>
    <loops>
        <name>Loop_Current_Opportunity_Products</name>
        <label>Loop Current Opportunity Products</label>
        <locationX>3746</locationX>
        <locationY>890</locationY>
        <assignNextValueToReference>varOpportunityLineItemLoop</assignNextValueToReference>
        <collectionReference>varOpportunityLineItemCollection</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Product_Loop_Quantity</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Create_Service_Agreement_Products</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_Current_Service_Product_Collection</name>
        <label>Loop Current Service Product Collection</label>
        <locationX>4450</locationX>
        <locationY>1106</locationY>
        <assignNextValueToReference>varCurrentServiceProductsLoop</assignNextValueToReference>
        <collectionReference>varCurrentServiceProductsCollection</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_Match_to_Current_Product</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Loop_Current_Opportunity_Products</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_Opp_Line_Items</name>
        <label>Loop Opp Line Items</label>
        <locationX>1458</locationX>
        <locationY>998</locationY>
        <assignNextValueToReference>varOpportunityLineItemLoop</assignNextValueToReference>
        <collectionReference>varOpportunityLineItemCollection</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Values_to_Service_Line_Item</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>CreateNewServiceAgreementProducts</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Create_Enrollment_Case</name>
        <label>Create Enrollment Case</label>
        <locationX>1854</locationX>
        <locationY>2630</locationY>
        <assignRecordIdToReference>varEnrollmentCaseID</assignRecordIdToReference>
        <connector>
            <targetReference>Update_Service_Agreement</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Fault_Path_Flow_Enrollment</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>varServiceLocationID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Actionable_Items__c</field>
            <value>
                <elementReference>varActionableItems</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Addendum_Alert__c</field>
            <value>
                <elementReference>varAddendumAlert</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Agreement_Type__c</field>
            <value>
                <stringValue>Active Purchase</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Billing_Case_Name__c</field>
            <value>
                <elementReference>formula_BillingCaseSubject</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Case_Subtype__c</field>
            <value>
                <stringValue>New Client Enrollment</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Discovery_Notes__c</field>
            <value>
                <elementReference>varDiscoveryNotes</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Implementation_Expectations__c</field>
            <value>
                <elementReference>varImplementationExpectations</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Opportunity__c</field>
            <value>
                <elementReference>varOpportunityID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>EnrollmentCaseOwner</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_Flow_Configuration_Settings.Case_Enrollment_RT_Id__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Send_Case_Owner_Notification__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Service_Agreement__c</field>
            <value>
                <elementReference>varServiceAgreementID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Setup_Type__c</field>
            <value>
                <stringValue>New Setup</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>1 - Agreement Completed</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <elementReference>EnrollmentSubject</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <stringValue>Enrollment</stringValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordCreates>
    <recordCreates>
        <name>Create_Enrollment_Case_Addendum</name>
        <label>Create Enrollment Case (Addendum)</label>
        <locationX>2382</locationX>
        <locationY>2738</locationY>
        <assignRecordIdToReference>varEnrollmentCaseID</assignRecordIdToReference>
        <connector>
            <targetReference>Update_Service_Agreement_Addendum</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Fault_Path_Flow7</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>varServiceLocationID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Actionable_Items__c</field>
            <value>
                <elementReference>varActionableItems</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Addendum_Alert__c</field>
            <value>
                <elementReference>varAddendumAlert</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Agreement_Type__c</field>
            <value>
                <stringValue>Active Purchase</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Billing_Case_Name__c</field>
            <value>
                <elementReference>formula_BillingCaseSubject</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Case_Subtype__c</field>
            <value>
                <stringValue>New Client Enrollment</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Discovery_Notes__c</field>
            <value>
                <elementReference>varDiscoveryNotes</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Implementation_Expectations__c</field>
            <value>
                <elementReference>varImplementationExpectations</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Opportunity__c</field>
            <value>
                <elementReference>varOpportunityID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>EnrollmentCaseOwner</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_Flow_Configuration_Settings.Case_Enrollment_RT_Id__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Send_Case_Owner_Notification__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Service_Agreement__c</field>
            <value>
                <elementReference>varServiceAgreementID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Setup_Type__c</field>
            <value>
                <stringValue>New Setup</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>1 - Agreement Completed</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <elementReference>EnrollmentSubject</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <stringValue>Enrollment</stringValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordCreates>
    <recordCreates>
        <name>Create_Service_Agreement</name>
        <label>Create Service Agreement</label>
        <locationX>1458</locationX>
        <locationY>782</locationY>
        <assignRecordIdToReference>varServiceAgreementID</assignRecordIdToReference>
        <connector>
            <targetReference>CreateBillToBillingAgreement</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Fault_Path_Flow</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Bill_To_Share_Fixed_Amount__c</field>
            <value>
                <elementReference>varBillToShareAmount</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Bill_To_Share_Fixed_Frequency__c</field>
            <value>
                <elementReference>varBillToShare</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Bill_to_Account__c</field>
            <value>
                <elementReference>varBillToID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Bill_to_Share_Account__c</field>
            <value>
                <elementReference>varBillToShareAccount</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Bill_to_Share_Percentage__c</field>
            <value>
                <elementReference>varBillToSharePercentage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Discovery_Notes__c</field>
            <value>
                <elementReference>varDiscoveryNotes</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Features_of_Interest__c</field>
            <value>
                <elementReference>varFeaturesofInterest</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Implementation_Expectations__c</field>
            <value>
                <elementReference>varImplementationExpectations</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Last_Opportunity_Change_Type__c</field>
            <value>
                <elementReference>varOrderType</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Last_Opportunity__c</field>
            <value>
                <elementReference>varOpportunityID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>varAccountName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Originating_Opportunity__c</field>
            <value>
                <elementReference>varOpportunityID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Pooling_Minutes__c</field>
            <value>
                <elementReference>varPoolingMinutes</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Price_Book__c</field>
            <value>
                <elementReference>varPriceBook2ID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Referral_Partner__c</field>
            <value>
                <elementReference>varReferralPartner2</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Service_Location__c</field>
            <value>
                <elementReference>varServiceLocationID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Tier_Status__c</field>
            <value>
                <elementReference>form_AdjustedTier2Status</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>What_are_the_Client_Objectives__c</field>
            <value>
                <elementReference>varClientObjectives</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>What_are_the__c</field>
            <value>
                <elementReference>varCustomerChallenegs</elementReference>
            </value>
        </inputAssignments>
        <object>Service_Agreement__c</object>
    </recordCreates>
    <recordCreates>
        <name>Create_Service_Agreement_Products</name>
        <label>Create Service Agreement Products</label>
        <locationX>3746</locationX>
        <locationY>1874</locationY>
        <connector>
            <targetReference>Update_Service_Products_to_Update</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Fault_Path_Flow5</targetReference>
        </faultConnector>
        <inputReference>varServiceAgreementProductsCollection</inputReference>
    </recordCreates>
    <recordCreates>
        <description>Create Billing Agreement for the BillTo</description>
        <name>CreateBillToBillingAgreement</name>
        <label>CreateBillToBillingAgreement</label>
        <locationX>1458</locationX>
        <locationY>890</locationY>
        <assignRecordIdToReference>varBillingAgreementBillTo</assignRecordIdToReference>
        <connector>
            <targetReference>Loop_Opp_Line_Items</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Fault_Path_Flow1</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Bill_to_Account__c</field>
            <value>
                <elementReference>varBillToID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Effective_Date__c</field>
            <value>
                <elementReference>varBillingAgreementEffectiveDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Service_Agreement__c</field>
            <value>
                <elementReference>varServiceAgreementID</elementReference>
            </value>
        </inputAssignments>
        <object>Billing_Agreement__c</object>
    </recordCreates>
    <recordCreates>
        <name>CreateNewServiceAgreementProducts</name>
        <label>CreateNewServiceAgreementProducts</label>
        <locationX>1458</locationX>
        <locationY>1406</locationY>
        <connector>
            <targetReference>Update_Opportunity_With_Service_Agreement</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Fault_Path_Flow2</targetReference>
        </faultConnector>
        <inputReference>varServiceAgreementProductsCollection</inputReference>
    </recordCreates>
    <recordLookups>
        <name>Get_Account_Information</name>
        <label>Get Account Information</label>
        <locationX>2426</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Look_Up_Record_Type_Name</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varServiceLocationID</elementReference>
            </value>
        </filters>
        <object>Account</object>
        <outputAssignments>
            <assignToReference>varAccountName</assignToReference>
            <field>Name</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Get Current Billing Agreement</description>
        <name>Get_Current_Billing_Agreement</name>
        <label>Get Current Billing Agreement</label>
        <locationX>2426</locationX>
        <locationY>566</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>New_or_Changed_Opp</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Service_Agreement__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varServiceAgreementID</elementReference>
            </value>
        </filters>
        <object>Billing_Agreement__c</object>
        <outputAssignments>
            <assignToReference>varBillingAgreementBillTo</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Current_Service_Agreement_Products</name>
        <label>Get Current Service Agreement Products</label>
        <locationX>3746</locationX>
        <locationY>782</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Current_Opportunity_Products</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>CallRevu_Contract__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varServiceAgreementID</elementReference>
            </value>
        </filters>
        <object>Service_Agreement_Products__c</object>
        <outputReference>varCurrentServiceProductsCollection</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Quantity__c</queriedFields>
        <queriedFields>Product__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Flow_Configuration_Settings</name>
        <label>Get Flow Configuration Settings</label>
        <locationX>2426</locationX>
        <locationY>2414</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Case_Workflow_Types</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Flow_Settings</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Flow_Configuration_Settings__mdt</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Look_up_Opportunity</name>
        <label>Look up Opportunity</label>
        <locationX>2426</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Account_Information</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varOpportunityID</elementReference>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputAssignments>
            <assignToReference>varServiceLocationID</assignToReference>
            <field>AccountId</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varAccountingCaseManualCreate</assignToReference>
            <field>Accounting_Case_Manual_Create__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varActionableItems</assignToReference>
            <field>Actionable_Items__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varAddendumType</assignToReference>
            <field>Addendum_Type__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varOpportunityAgreementWorkFlowType</assignToReference>
            <field>Agreement_Workflow__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varAnticipatedImplementationLead</assignToReference>
            <field>Anticipated_Implementation_Lead__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varBillToID</assignToReference>
            <field>Bill_To_Account__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varBillToShareAccount</assignToReference>
            <field>Bill_To_Share_Account__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varBillToShareAmount</assignToReference>
            <field>Bill_to_Share_Fixed_Amount__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varBillToShare</assignToReference>
            <field>Bill_to_Share_Fixed_Frequency__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varBillToSharePercentage</assignToReference>
            <field>Bill_to_Share_Percentage__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varBillingCaseBypass</assignToReference>
            <field>Billing_Case_Bypass__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varCloseDate</assignToReference>
            <field>CloseDate</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varBillingStartDate</assignToReference>
            <field>CloseDate</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varDateProcessed</assignToReference>
            <field>Date_Processed__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varDiscoveryNotes</assignToReference>
            <field>Discovery_Notes__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varFeaturesofInterest</assignToReference>
            <field>Features_of_Interest__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varImplementationExpectations</assignToReference>
            <field>Implementation_Expectations__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varInformationRequiredForProcessing</assignToReference>
            <field>Information_Required_For_Processing__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varOrderType</assignToReference>
            <field>Order_Type__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varPoolingMinutes</assignToReference>
            <field>Pooling_Minutes__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varOpportunityRecordTypeID</assignToReference>
            <field>RecordTypeId</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varReferralPartner2</assignToReference>
            <field>Referral_Partner__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varServiceAgreementID</assignToReference>
            <field>Service_Agreement__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varOppStage</assignToReference>
            <field>StageName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varClientObjectives</assignToReference>
            <field>What_are_the_Client_Objectives__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varCustomerChallenegs</assignToReference>
            <field>What_are_the_Customer_Challenges__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Look_Up_Opportunity_Line_Items</name>
        <label>Look Up Opportunity Line Items</label>
        <locationX>2426</locationX>
        <locationY>458</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Current_Billing_Agreement</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varOpportunityID</elementReference>
            </value>
        </filters>
        <object>OpportunityLineItem</object>
        <outputReference>varOpportunityLineItemCollection</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Quantity</queriedFields>
        <queriedFields>UnitPrice</queriedFields>
        <queriedFields>Product2Id</queriedFields>
        <queriedFields>Minutes__c</queriedFields>
        <queriedFields>PricebookEntryId</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Look_Up_Record_Type_Name</name>
        <label>Look Up Record Type Name</label>
        <locationX>2426</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Look_Up_Opportunity_Line_Items</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varOpportunityRecordTypeID</elementReference>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>varOpportunityRecordTypeName</assignToReference>
            <field>Name</field>
        </outputAssignments>
    </recordLookups>
    <recordUpdates>
        <name>Update_Opportunity_Processed</name>
        <label>Update Opportunity Processed</label>
        <locationX>2426</locationX>
        <locationY>3170</locationY>
        <faultConnector>
            <targetReference>Fault_Path_Flow16</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varOpportunityID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Date_Processed__c</field>
            <value>
                <elementReference>varCloseDate</elementReference>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity_With_Service_Agreement</name>
        <label>Update Opportunity With Service Agreement</label>
        <locationX>1458</locationX>
        <locationY>1514</locationY>
        <connector>
            <targetReference>Update_Service_Agreement_With_Case</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Fault_Path_Flow3</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varOpportunityID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Service_Agreement__c</field>
            <value>
                <elementReference>varServiceAgreementID</elementReference>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Service_Agreement</name>
        <label>Update Service Agreement</label>
        <locationX>1854</locationX>
        <locationY>2738</locationY>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Send_Notification_to_Case_Owner</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varServiceAgreementID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Enrollment_Case__c</field>
            <value>
                <elementReference>varEnrollmentCaseID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Last_Opportunity__c</field>
            <value>
                <elementReference>varOpportunityID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Originating_Opportunity__c</field>
            <value>
                <elementReference>varOpportunityID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Pooling_Minutes__c</field>
            <value>
                <elementReference>varPoolingMinutes</elementReference>
            </value>
        </inputAssignments>
        <object>Service_Agreement__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Service_Agreement_Addendum</name>
        <label>Update Service Agreement (Addendum)</label>
        <locationX>2382</locationX>
        <locationY>2846</locationY>
        <connector>
            <targetReference>Send_Notification_to_Case_Owner</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varServiceAgreementID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Current_Case__c</field>
            <value>
                <elementReference>varCaseID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Last_Opportunity__c</field>
            <value>
                <elementReference>varOpportunityID</elementReference>
            </value>
        </inputAssignments>
        <object>Service_Agreement__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Service_Agreement_With_Case</name>
        <label>Update Service Agreement With Case</label>
        <locationX>1458</locationX>
        <locationY>1622</locationY>
        <connector>
            <targetReference>Get_Flow_Configuration_Settings</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Fault_Path_Flow4</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varServiceAgreementID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Current_Case__c</field>
            <value>
                <elementReference>varCaseID</elementReference>
            </value>
        </inputAssignments>
        <object>Service_Agreement__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Service_Products_to_Update</name>
        <label>Update Service Products to Update</label>
        <locationX>3746</locationX>
        <locationY>1982</locationY>
        <connector>
            <targetReference>Get_Flow_Configuration_Settings</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Fault_Path_Flow6</targetReference>
        </faultConnector>
        <inputReference>varServiceProductsToUpdateCollection</inputReference>
    </recordUpdates>
    <screens>
        <name>Default_Error_Message</name>
        <label>Default Error Message</label>
        <locationX>4802</locationX>
        <locationY>782</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ErrorMesssage</name>
            <fieldText>&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:12px&quot; COLOR=&quot;#000000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;You have not met the criteria to create or update a service agreement.&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:12px&quot; COLOR=&quot;#000000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:12px&quot; COLOR=&quot;#000000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;&lt;B&gt;&lt;U&gt;New Agreement Requirements&lt;/U&gt;&lt;/B&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:12px&quot; COLOR=&quot;#000000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;Type = &amp;quot;New&amp;quot;&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:12px&quot; COLOR=&quot;#000000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;Sevices Agreement is Blank - there should not be one.&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:12px&quot; COLOR=&quot;#000000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;Opportunity Stage = Closed Won&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:12px&quot; COLOR=&quot;#000000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;Bill-to Account&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:12px&quot; COLOR=&quot;#000000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:12px&quot; COLOR=&quot;#000000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;&lt;B&gt;&lt;U&gt;Change Agreement Requirements&lt;/U&gt;&lt;/B&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:12px&quot; COLOR=&quot;#000000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;Type is not equal to New&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:12px&quot; COLOR=&quot;#000000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;Service Agreement is not Blank - There must be one for a  change or update&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:12px&quot; COLOR=&quot;#000000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;Opportunity Stege = Closed Won&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:12px&quot; COLOR=&quot;#000000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;Bill-to Account&lt;/FONT&gt;&lt;/DIV&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Missing_Information</name>
        <label>Missing Information</label>
        <locationX>4538</locationX>
        <locationY>782</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>NotAuthorizedMessage_0</name>
            <fieldText>&lt;p style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;font-size: 16px; color: rgb(228, 8, 8);&quot;&gt;Information is Missing To Process This Opportunity&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>New_With_Service_Agreement</name>
        <label>New With Service Agreement</label>
        <locationX>1106</locationX>
        <locationY>782</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>NewWithServiceAgreement</name>
            <fieldText>&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:16px&quot; COLOR=&quot;#CC0000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;&lt;B&gt;You Can Not Process a New Opportunity With a Current Service Agreement.  You Must Change The Order Type to Modify a Current Service Agreement, or if it is a New Opportunity, You Can Not Reference a Current Service Agreement.&lt;/B&gt;&lt;/FONT&gt;&lt;/DIV&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Not_Authorized</name>
        <label>Not Authorized</label>
        <locationX>50</locationX>
        <locationY>782</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>NotAuthorizedMessage</name>
            <fieldText>&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:16px&quot; COLOR=&quot;#CC0033&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;&lt;B&gt;You Are Not Authorized To Maintain Service Agreements.  &lt;/B&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:16px&quot; COLOR=&quot;#CC0033&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:16px&quot; COLOR=&quot;#CC0033&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;&lt;B&gt;See Your Administrator.&lt;/B&gt;&lt;/FONT&gt;&lt;/DIV&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Not_Closed_Won_Opportunity</name>
        <label>Not Closed Won Opportunity</label>
        <locationX>842</locationX>
        <locationY>782</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>NotClosedWon</name>
            <fieldText>&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:16px&quot; COLOR=&quot;#CC0000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;&lt;B&gt;Opportunity Must Be Closed Won to Process&lt;/B&gt;&lt;/FONT&gt;&lt;/DIV&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Opportunity_Already_Processed</name>
        <label>Opportunity Already Processed</label>
        <locationX>314</locationX>
        <locationY>782</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>OpportunityAlreadyProcessed</name>
            <fieldText>&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:16px&quot; COLOR=&quot;#CC0000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;&lt;B&gt;This Opportunity Has Already Been Processed.  You Can Not Process It Again.&lt;/B&gt;&lt;/FONT&gt;&lt;/DIV&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>You_Must_Have_a_Bill_to_Account</name>
        <label>You Must Have a Bill-to Account</label>
        <locationX>578</locationX>
        <locationY>782</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>BilltoMissing</name>
            <fieldText>&lt;DIV ALIGN=&quot;LEFT&quot;&gt;&lt;FONT FACE=&quot;Arial&quot; STYLE=&quot;font-size:16px&quot; COLOR=&quot;#CC0000&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;&lt;B&gt;You Must Have a Bill-to Account To Process an Opportunity.&lt;/B&gt;&lt;/FONT&gt;&lt;/DIV&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>2300</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Look_up_Opportunity</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Create_No_Workflow_Accounting_Case</name>
        <label>Create No Workflow Accounting Case</label>
        <locationX>3086</locationX>
        <locationY>2738</locationY>
        <connector>
            <targetReference>Update_Opportunity_Processed</targetReference>
        </connector>
        <flowName>create_Billing_Case_Accounting</flowName>
        <inputAssignments>
            <name>billingCaseAccountIDOverride</name>
            <value>
                <elementReference>varServiceLocationID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>billingCaseOrigin</name>
            <value>
                <stringValue>Internal Alert</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>billingCaseOwnerIDOverride</name>
            <value>
                <elementReference>Get_Flow_Configuration_Settings.Billing_OwnerId__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>billingCaseServiceAgreementIDOverride</name>
            <value>
                <elementReference>varServiceAgreementID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>billingCaseSubject</name>
            <value>
                <elementReference>varAccountingCaseManualCreate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>billingCaseType</name>
            <value>
                <stringValue>Internal Alert</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>relatedCaseId</name>
        </inputAssignments>
        <inputAssignments>
            <name>relatedOppIDOverride</name>
            <value>
                <elementReference>varOpportunityID</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Fault_Path_Flow</name>
        <label>Fault Path Flow</label>
        <locationX>2778</locationX>
        <locationY>890</locationY>
        <flowName>Fault_Path_Flow</flowName>
        <inputAssignments>
            <name>varElementName</name>
            <value>
                <stringValue>Create_Service_Agreement</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFlowname</name>
            <value>
                <stringValue>Create and Update Service Agreements V32</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Fault_Path_Flow1</name>
        <label>Fault Path Flow1</label>
        <locationX>2514</locationX>
        <locationY>998</locationY>
        <flowName>Fault_Path_Flow</flowName>
        <inputAssignments>
            <name>varElementName</name>
            <value>
                <stringValue>CreateBillToBillingAgreement</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFlowname</name>
            <value>
                <stringValue>Create and Update Service Agreements V32</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Fault_Path_Flow16</name>
        <label>Fault Path Flow16</label>
        <locationX>5066</locationX>
        <locationY>3278</locationY>
        <flowName>Fault_Path_Flow</flowName>
        <inputAssignments>
            <name>varElementName</name>
            <value>
                <stringValue>Update_Opportunity_Processed</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFlowname</name>
            <value>
                <stringValue>Create and Update Service Agreements V32</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Fault_Path_Flow2</name>
        <label>Fault Path Flow2</label>
        <locationX>2250</locationX>
        <locationY>1514</locationY>
        <flowName>Fault_Path_Flow</flowName>
        <inputAssignments>
            <name>varElementName</name>
            <value>
                <stringValue>CreateNewServiceAgreementProducts</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFlowname</name>
            <value>
                <stringValue>Create and Update Service Agreements V32</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Fault_Path_Flow3</name>
        <label>Fault Path Flow3</label>
        <locationX>1986</locationX>
        <locationY>1622</locationY>
        <flowName>Fault_Path_Flow</flowName>
        <inputAssignments>
            <name>varElementName</name>
            <value>
                <stringValue>Update_Opportunity_With_Service_Agreement</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFlowname</name>
            <value>
                <stringValue>Create and Update Service Agreements V32</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Fault_Path_Flow4</name>
        <label>Fault Path Flow4</label>
        <locationX>1722</locationX>
        <locationY>1730</locationY>
        <flowName>Fault_Path_Flow</flowName>
        <inputAssignments>
            <name>varElementName</name>
            <value>
                <stringValue>Update_Service_Agreement_With_Case</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFlowname</name>
            <value>
                <stringValue>Create and Update Service Agreements V32</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Fault_Path_Flow5</name>
        <label>Fault Path Flow5</label>
        <locationX>4274</locationX>
        <locationY>1982</locationY>
        <flowName>Fault_Path_Flow</flowName>
        <inputAssignments>
            <name>varElementName</name>
            <value>
                <stringValue>Create_Service_Agreement_Products</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFlowname</name>
            <value>
                <stringValue>Create and Update Service Agreements V32</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Fault_Path_Flow6</name>
        <label>Fault Path Flow6</label>
        <locationX>4010</locationX>
        <locationY>2090</locationY>
        <flowName>Fault_Path_Flow</flowName>
        <inputAssignments>
            <name>varElementName</name>
            <value>
                <stringValue>Update_Service_Products_to_Update</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFlowname</name>
            <value>
                <stringValue>Create and Update Service Agreements V32</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Fault_Path_Flow7</name>
        <label>Fault Path Flow7</label>
        <locationX>2646</locationX>
        <locationY>2846</locationY>
        <flowName>Fault_Path_Flow</flowName>
        <inputAssignments>
            <name>varElementName</name>
            <value>
                <stringValue>Create_Enrollment_Case_Addendum</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFlowname</name>
            <value>
                <stringValue>Create and Update Service Agreements V32</stringValue>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Fault_Path_Flow_Enrollment</name>
        <label>Fault Path Flow Enrollment</label>
        <locationX>2118</locationX>
        <locationY>2738</locationY>
        <flowName>Fault_Path_Flow</flowName>
        <inputAssignments>
            <name>varElementName</name>
            <value>
                <stringValue>Create_Enrollment_Case</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Send_Notification_to_Case_Owner</name>
        <label>Send Notification to Case Owner</label>
        <locationX>2382</locationX>
        <locationY>2954</locationY>
        <connector>
            <targetReference>Update_Opportunity_Processed</targetReference>
        </connector>
        <flowName>Send_Email_Alert_to_Case_Owne</flowName>
        <inputAssignments>
            <name>passedInCaseId</name>
            <value>
                <elementReference>varEnrollmentCaseID</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varAccountingCaseManualCreate</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varAccountName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varActionableItems</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varAddendumAlert</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varAddendumType</name>
        <dataType>Picklist</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varAnticipatedImplementationLead</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Billing Agreement for the Bill-to</description>
        <name>varBillingAgreementBillTo</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>ID of Billing Agreement for Bill To Share</description>
        <name>varBillingAgreementBillToShareID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varBillingCaseBypass</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varBillingCaseSubject</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>Create NS Order</stringValue>
        </value>
    </variables>
    <variables>
        <name>varBillingStartDate</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varBillToID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varBillToShare</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varBillToShareAccount</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varBillToShareAmount</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>varBillToSharePercentage</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <description>Case Id</description>
        <name>varCaseID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varClientObjectives</name>
        <dataType>Multipicklist</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varCloseDate</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varCurrentProductCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>1.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>varCurrentServiceProductsCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Service_Agreement_Products__c</objectType>
    </variables>
    <variables>
        <name>varCurrentServiceProductsLoop</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Service_Agreement_Products__c</objectType>
    </variables>
    <variables>
        <name>varCustomerChallenegs</name>
        <dataType>Multipicklist</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varDateProcessed</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varDiscoveryNotes</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Enrollment Case ID</description>
        <name>varEnrollmentCaseID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varFeaturesofInterest</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varImplementationExpectations</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Information Required For Processing should be null for this flow to run.</description>
        <name>varInformationRequiredForProcessing</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Opportunity Agreement Workflow Type</description>
        <name>varOpportunityAgreementWorkFlowType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varOpportunityID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varOpportunityLineItemCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>varOpportunityLineItemLoop</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>varOpportunityRecordTypeID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varOpportunityRecordTypeName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Opportunity Stage</description>
        <name>varOppStage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varOrderType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varPoolingMinutes</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Pricebook ID</description>
        <name>varPriceBook2ID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>01s1N000007oLwhQAE</stringValue>
        </value>
    </variables>
    <variables>
        <name>varReferralPartner</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Account</objectType>
    </variables>
    <variables>
        <name>varReferralPartner2</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varServiceAgreementID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varServiceAgreementProductsCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Service_Agreement_Products__c</objectType>
    </variables>
    <variables>
        <name>varServiceAgreemnetProductsLoop</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Service_Agreement_Products__c</objectType>
    </variables>
    <variables>
        <name>varServiceLocationID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varServiceProductsToUpdateCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Service_Agreement_Products__c</objectType>
    </variables>
    <variables>
        <name>varServiceProductsToUpdateObject</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Service_Agreement_Products__c</objectType>
    </variables>
</Flow>
